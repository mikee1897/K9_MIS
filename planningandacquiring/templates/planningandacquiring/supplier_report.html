{% load static %}
{% block content %} 
{% load humanize %}
{% if data %}

<div class="ui segment" id="printableArea">
    <center>
    <br><img src="{% static 'images/k9_logo.png' %}" width="150">
    <br>Philippine Coast Guard
    <br>Maritime Security Command
        <br><b>HEADQUARTERS COAST GUARD K9 FORCE</b>
    <br>Coast Guard Base Taguig
    <br>#56 ML Quezon St. New Lower Bicutan, Taguig City
        <br>Supplier Report
        <br><b>{{from_date}} to {{to_date}}</b></center>
        <table class="ui small celled six column structured table">
        <thead class="center aligned">
            <tr class='center aligned'>
                <th colspan="6">SUMMARY</th>
            </tr>
            <tr>
                <th>Supplier</th>
                <th>Trained</th>
                <th>Failed</th>
                <th>On-Training</th>
                <th>Total</th>
                <th>Percentage(minus on-training)</th>
            </tr>
        </thead>
        <tbody>
            {% for data1 in grand_arr %}
            <tr class="right aligned">
                <td class="left aligned">{{data1.0}}</td>
                <td>{{data1.1|intcomma}}</td>
                <td>{{data1.2|intcomma}}</td>
                <td>{{data1.3|intcomma}}</td>
                <td>{{data1.4|intcomma}}</td>
                <td>{{data1.5}}%</td>
            </tr>
            {%endfor%}            
        </tbody>
    </table>
    
    <div class="ui horizontal divider"></div>
    
    <table class="ui small celled six column structured table">
        <thead class="center aligned">
            <tr>
                <th>Supplier</th>
                <th>Breed</th>
                <th>Trained</th>
                <th>Failed</th>
                <th>On-Training</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for data in data%}
            <tr class="right aligned">
                <td class="left aligned" rowspan="{{data.2}}">{{data.0}}</td>
                <td class="left aligned">{{data.3.0}}</td>
                <td>{{data.3.1}}</td>
                <td>{{data.3.2}}</td>
                <td>{{data.3.3}}</td>
                <td>{{data.3.4}}</td>
            </tr>
                {% for data1 in data.1%}
            
                <tr class="right aligned">
                    <td class="left aligned" >{{data1.0}}</td>
                    <td>{{data1.1}}</td>
                    <td>{{data1.2}}</td>
                    <td>{{data1.3}}</td>
                    <td>{{data1.4}}</td>
                </tr>

                {%endfor%}
            {%endfor%}
            
            
        </tbody>
    </table>
    <br>Report generated by: {{user}}
    <br>

</div>
<center><input type="button" class="ui primary button"
onclick="printDiv('printableArea')" value="Print" /></center>

{% else %}
<div class="ui blue icon message">
    <i class="folder open icon"></i>
    <div class="content">
        <div class="header">
            NO REPORT FOR THE SELECTED DATE RANGE. :(
        </div>
    </div>
</div>

{% endif %}

<script type="text/javascript">

    function printDiv(divName) {
        var printContents = document.getElementById(divName).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
</script>
 {% endblock %}